#base image
FROM python:3.6.9

#install all apt requirements
RUN apt-get update -y
RUN apt-get install -y apt-utils
RUN DEBIAN_FRONTEND=noninteractive

#make app directory
RUN mkdir /opt/app
WORKDIR /opt/app

#store requirements file, must exist in the Dockerfile directory
COPY ./requirements.txt /opt/app
RUN mkdir ./crimeRestAPI2.0
COPY ./crimeRestAPI2.0 /opt/app/crimeRestAPI2.0


#install all python packages from requirements
RUN python3 -m pip install -r requirements.txt

#Migrate the server
EXPOSE 8000
WORKDIR /opt/app/crimeRestAPI2.0